import{r as c,I as ne,x as h,o as r,c as i,a as e,F as C,l as q,t as f,k as o,m as re,b as v,i as L,g as Z,w as Q,n as I,d as U,C as S,h as Ce,J as Ae,K as Te,B as ae}from"./DQim9pRB.js";import ie from"./Cr0JjmH5.js";import{_ as le}from"./Biw8V7Zo.js";import{_ as Pe}from"./CiQvQjG1.js";import{_ as qe}from"./t3l7XOcV.js";import{u as Be}from"./DgkF2B2v.js";import{p as De}from"./CHbncPiP.js";import{r as ze}from"./D3n9HqNJ.js";import{Y as Le,h as Qe,G as Ee,V as je,S as Me}from"./CuUvoi-m.js";import{_ as Oe}from"./CDiO6N6g.js";import{s as Fe,T as Ie}from"./CwrT1Aom.js";import"./DoIMxQcI.js";import"./DlAUqK2U.js";import"./Bp47c7wY.js";import"./xyCIIb-V.js";import"./C2KhhVc5.js";import"./BneCoJRQ.js";import"./CTSh-Y9R.js";import"./BSL05b4c.js";const Re={class:"mt-1"},Ne=["id","autocomplete","name","readonly","disabled"],Ge=e("option",{value:""},"Select Schema",-1),Ve=["value","selected"],He={__name:"TemplrJSDropdownList",props:{type:String,label:String,show_label:Boolean,readonly:Boolean,name:String,selectedValue:String,selectedText:String,api:String,data:Array},emits:["selectedItem"],setup(g,{emit:w}){const d=g,k=w;let u=c([]);ne(async()=>{d.api?u.value=await h().$fetch(d.api):d.data&&(u.value=d.data)});function y(B){const $=B.target.value,_=u.value.find(p=>$===p.code);_?k("selectedItem",_.code):k("selectedItem","")}return(B,$)=>(r(),i("div",null,[e("div",Re,[e("select",{onChange:y,id:g.name,autocomplete:g.name,name:g.name,readonly:g.readonly,disabled:g.readonly,class:"h-8 mt-2 block w-full border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[Ge,(r(!0),i(C,null,q(o(u),(_,p)=>(r(),i("option",{key:p,value:_.code,selected:_.code===g.selectedValue},f(g.label)+" : "+f(_.name),9,Ve))),128))],40,Ne)])]))}},Ke=[{name:"Audit histoty",description:"Audit logs",href:"javascript:void()",click_event:"noops",icon:"icon-park-outline:history",iconForeground:"text-primary-700",iconBackground:"bg-primary-50",enabled:!1},{name:"FAQ",description:"Frequently asked question",href:"/faq",click_event:"noops",icon:"heroicons:question-mark-circle",iconForeground:"text-primary-700",iconBackground:"bg-primary-50",enabled:!1},{name:"Support",description:"Customer support",href:"/customer-support",click_event:"noops",icon:"icon-park-outline:headset-one",iconForeground:"text-primary-700",iconBackground:"bg-primary-50",enabled:!1},{name:"Documentation",description:"Documentation",href:"#",click_event:"evtSideBarGuide",icon:"icon-park-twotone:book-open",iconForeground:"text-primary-700",iconBackground:"bg-primary-50",enabled:!1},{name:"Settings",description:"Settings",href:"javascript:void()",click_event:"noops",icon:"icon-park-twotone:setting-two",iconForeground:"text-primary-700",iconBackground:"bg-primary-50",enabled:!0},{name:"Info",description:"Users in your organization i.e. Employees",href:"javascript:void()",click_event:"evtAboutTemplrJS",icon:"icon-park-twotone:info",iconForeground:"text-primary-700",iconBackground:"bg-primary-50",enabled:!0}],Ue={menu:Ke},Je={class:"w-full flex justify-end space-x-4 md:order-2"},We=["href","onClick"],Ye={class:"sr-only"},Xe={__name:"FooterMiniNav",props:{api_end_point:{type:String,required:!0}},setup(g){const w=re(()=>Ue.menu.filter(d=>d.enabled));return(d,k)=>{const u=ie;return r(),i("div",Je,[(r(!0),i(C,null,q(o(w),y=>(r(),i("a",{key:y.name,href:y.href,onClick:B=>("useNuxtApp"in d?d.useNuxtApp:o(h))().$bus.$emit(y.click_event),class:"text-gray-400 hover:text-gray-500"},[e("span",Ye,f(y.name),1),v(u,{name:y.icon,class:"h-6 w-6",alt:y.name},null,8,["name","alt"])],8,We))),128))])}}},Ze=e("div",{class:"fixed inset-0"},null,-1),et={class:"fixed inset-0 overflow-hidden"},tt={class:"absolute inset-0 overflow-hidden"},st={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16"},ot={class:"h-0 flex-1 overflow-y-auto"},at={class:"bg-gradient-to-r from-primary-900 via-secondary-700 to-primary-900 py-6 px-4 sm:px-6"},nt={class:"flex items-center justify-between"},rt={class:"ml-3 flex h-7 items-center"},it=e("span",{class:"sr-only"},"Close panel",-1),lt={class:"mt-1"},ct={class:"text-sm text-primary-300"},dt={key:0,class:"z-50 h-full overflow-hidden flex flex-col items-center justify-center"},ut=e("div",{class:"loader animate-ping text-indigo-900 ease-linear rounded-full border-4 border-t-4 border-primary-900 h-12 w-12 mb-4"},null,-1),pt=[ut],mt={class:"flex-1 flex-col justify-between"},ht={class:"min-w-0 max-w-2xl flex-auto px-4 py-4 lg:max-w-none lg:pr-0 lg:pl-8 xl:px-8"},ft={class:"mb-9 space-y-1"},gt={class:"font-display text-sm font-medium text-sky-500"},vt={class:"font-display text-3xl tracking-tight text-gray-900 dark:text-white"},yt={class:"mt-8 text-sm text-zinc-600 prose prose-zinc max-w-none dark:prose-invert dark:text-zinc-400 prose-headings:scroll-mt-28 prose-headings:font-display prose-headings:font-normal lg:prose-headings:scroll-mt-[8.5rem] prose-lead:text-zinc-500 dark:prose-lead:text-zinc-400 prose-a:font-semibold dark:prose-a:text-sky-400 prose-a:no-underline dark:prose-pre:ring-1 dark:prose-pre:ring-zinc-300/10 dark:prose-hr:border-zinc-800"},_t={__name:"SideBarGuide",props:{form_title:{type:String,required:!0},form_description:{type:String,required:!0},content_identifier:{type:String,required:!0}},setup(g){const w=g,d=c(!1),k=c(!1),u=c({});h().$bus.$on("evtSideBarGuide",async _=>{d.value=!d.value;const p=await $fetch(`${L().public.DUCKDB_DATA_API_BASE_PATH}/blogs?title.eq=${w.content_identifier}`);console.log(`${L().public.DUCKDB_DATA_API_BASE_PATH}/blogs?title.eq=${w.content_identifier}`),p&&Array.isArray(p.data)?u.value=await De(p.data[0].content):u.value={data:{title:"Sorry, No page exists",body:""},toc:{links:[]}},k.value=!1});function y(){try{d.value=!1}catch(_){console.log(_)}return!1}async function B(_){try{if(!$(data.value)){h().$toast.show({type:"error",message:"Please fill all required inputs",timeout:10});return}k.value=!0,data.value.tenant="www.xyz-company.com",await Be("/api/inquiries/create",{method:"post",body:data.value,initialCache:!1,onResponse({request:p,response:A,options:a}){console.log(JSON.stringify(A)),A._data&&(A._data.code==200?(h().$toast.show({type:"success",message:"Thank you for your inquiry, one of our associate will contact you soon",timeout:6}),d.value=!d.value):h().$toast.show({type:"error",message:"Failure during inquiry save",timeout:6}),k.value=!1)}},"$4XdQ1VmWWc")}catch(p){h().$toast.show({type:"error",message:`Oops!... Something went wrong....<br/>[${p.message}]`,timeout:6}),k.value=!1}finally{}}function $(_){let p=data.value.name!=null&&data.value.name!="",A=data.value.phone_number!=null&&data.value.phone_number!="",a=data.value.email!=null&&data.value.email!="",O=data.value.description!=null&&data.value.description!="";return console.log("name && phone_number && email && description",p&&A&&a&&O),p&&A&&a&&O}return(_,p)=>{const A=qe,a=le;return r(),Z(o(Me),{as:"template",show:d.value},{default:Q(()=>[v(o(Le),{as:"div",class:"relative"},{default:Q(()=>[Ze,e("div",et,[e("div",tt,[e("div",st,[v(o(Qe),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:Q(()=>[v(o(Ee),{class:"pointer-events-auto w-screen max-w-xl"},{default:Q(()=>[e("form",{class:"flex h-full flex-col divide-y divide-gray-200 bg-white shadow-xl",onSubmit:I(B,["prevent"])},[e("div",ot,[e("div",at,[e("div",nt,[v(o(je),{class:"text-lg font-medium text-white"},{default:Q(()=>[U(f(g.form_title?g.form_title:"Contact us"),1)]),_:1}),e("div",rt,[e("button",{type:"button",class:"rounded-md bg-primary-700 text-primary-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:p[0]||(p[0]=O=>d.value=!d.value)},[it,v(o(ze),{class:"h-6 w-6","aria-hidden":"true"})])])]),e("div",lt,[e("p",ct,f(g.form_description?g.form_description:"Find out how we can help you?"),1)])]),k.value?(r(),i("div",dt,pt)):S("",!0),e("div",mt,[e("div",ht,[v(a,null,{default:Q(()=>[e("article",null,[e("header",ft,[e("p",gt,f(u.value.title),1),e("h1",vt,f(u.value.pageTitle||u.value.title),1)]),e("div",yt,[v(A,{value:u.value,ref:"doc_content"},null,8,["value"])])])]),_:1})])])]),e("div",{class:"flex flex-shrink-0 justify-end px-4 py-4"},[e("button",{type:"button",class:"border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:y},"Cancel")])],32)]),_:1})]),_:1})])])])]),_:1})]),_:1},8,["show"])}}},bt={class:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col"},xt={class:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white px-6 pb-4"},wt=e("div",{class:"flex h-16 shrink-0 items-center flex justify-center"},[e("h1",{class:"text-2xl"},"DuckDB Studio")],-1),kt={class:"py-2"},$t=e("li",{class:"py-2"},[e("label",{for:"table-search",class:"sr-only"},"Search tables"),e("div",{class:"mt-1 relative shadow-sm"},[e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"}),e("input",{type:"text",name:"table-search",id:"table-search",class:"h-8 block w-full border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary-600 sm:text-sm sm:leading-6",placeholder:"Search tables..."})])],-1),St={class:"flex flex-1 flex-col",style:{height:"calc(100vh - 100px)","overflow-y":"auto"}},Ct={class:"space-y-2"},At={key:0},Tt=e("h5",{class:"text-gray-600 dark:text-gray-400 uppercase font-bold px-3 mb-3"},"Tables",-1),Pt=[Tt],qt=["onClick"],Bt={class:"text-sm truncate"},Dt={class:"flex-shrink-0 flex border-t border-r border-gray-300 p-4"},zt={class:"lg:pl-72"},Lt={class:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8"},Qt={class:"w-full flex justify-end"},Et=e("div",{class:"h-6 w-px bg-gray-200 lg:hidden","aria-hidden":"true"},null,-1),jt={class:"py-2"},Mt={class:"pl-2 pr-2"},Ot={class:"flex-grow box-border border-2 border-gray-200"},Ft={class:"flex justify-end gap-x-2 relative"},It={class:"absolute inset-0 flex h-full w-full items-center justify-center","aria-hidden":"true"},Rt={class:"py-4"},Nt={class:"flex justify-end gap-x-2 py-2"},Gt={class:"relative inline-flex shadow-sm"},Vt={class:"relative -ml-px block"},Ht=e("svg",{class:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1),Kt=[Ht],Ut={key:0,class:"absolute right-0 z-10 mt-2 w-56 origin-top-right bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},Jt={class:"py-1",role:"menu"},Wt=["onClick"],Yt={class:"relative inline-flex shadow-sm"},Xt={class:"relative -ml-px block"},Zt=e("svg",{class:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1),es=[Zt],ts={key:0,class:"absolute right-0 z-10 mt-2 w-56 origin-top-right bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},ss={class:"py-1",role:"menu"},os=["onClick"],as={class:"gap-y-3 p-4 lg:p-0"},ns={class:"mx-auto max-w-full pt-8 relative"},rs={key:0,class:"absolute top-0 left-0 z-30 w-full h-full bg-gray-100 bg-opacity-75 transition-opacity"},is=e("div",{class:"h-full bg-gray-100 bg-opacity-75 transition-opacity"},null,-1),ls=[is],cs={key:1,class:"animate-spin absolute top-1/2 left-1/2 z-40"},ds=e("svg",{class:"h-8 w-8 text-zinc-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),us=[ds],ps={key:2,class:"px-4"},ms=e("div",{class:"sm:flex sm:items-center"},[e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-base font-semibold leading-6 text-gray-900"},"Query Results"),e("p",{class:"mt-2 text-sm text-gray-700"},"DuckDB SQL query execution results")]),e("div",{class:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none"})],-1),hs={class:"mt-8 flow-root"},fs={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8 px-2"},gs={class:"inline-block min-w-full align-middle sm:px-6 max-h-96"},vs={class:"min-w-full divide-y divide-gray-300"},ys={class:"bg-white border-b sticky top-0"},_s={class:"divide-y divide-gray-200 bg-white h-96 overflow-y-auto"},bs=e("td",{class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0"},null,-1),xs={key:0,class:"mt-4 hidden sm:flex sm:flex-1 sm:items-center sm:justify-between px-4"},ws={class:"text-sm text-gray-700"},ks={class:"font-medium"},$s={class:"font-medium"},Ss={class:"font-medium"},Cs={class:"inline-flex -space-x-px shadow-sm","aria-label":"Pagination",id:"nav_pagination"},As=e("span",{class:"sr-only"},"Previous",-1),Ts=e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1),Ps=[As,Ts],qs=["id","onClick"],Bs=e("span",{class:"sr-only"},"Next",-1),Ds=e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1),zs=[Bs,Ds],Ls=e("div",null,"Â ",-1),Qs={key:1,class:"flex flex-wrap gap-2"},Es=`
SELECT venues.venuename, categories.catname, events.eventname,listings.listtime, (sales.saletime- listings.listtime) as sale_age
FROM sales,listings, venues,events,categories
WHERE
events.eventid=sales.eventid
and
events.catid=categories.catid
and sales.listid=listings.listid
and venues.venueid=events.venueid
ORDER BY sale_age desc, sales.saletime desc,  listings.listtime desc, venues.venuename,  categories.catname,  events.eventname
LIMIT 20
`,M=25,js=10,oo={__name:"studio",async setup(g){let w,d;const k=()=>{const t=["bg-red-200","bg-green-200","bg-blue-200","bg-yellow-200","bg-purple-200","bg-pink-200","bg-primary-200","bg-teal-200"];return t[Math.floor(Math.random()*t.length)]};c({});const u=c([]),y=c(""),B=c([]),$=c([]);function _(t){p(t.target.value),y.value=t.target.value,console.log(`Select Value = [${t.target.value}]`),D()}try{const t={method:"POST",body:{query:"select name, name as code from (select distinct(table_schema) as name from information_schema.tables order by table_schema asc)"},headers:{"Content-Type":"application/json"}},s=([w,d]=Ce(()=>$fetch(`${L().public.DUCKDB_DATA_API_BASE_PATH}/execute/sql`,t)),w=await w,d(),w);s.data&&Array.isArray(s.data)&&(u.value=s.data)}catch(t){console.error(t)}const p=async t=>{try{const s={method:"POST",body:{query:`SELECT table_name as name FROM information_schema.tables where table_schema='${t}' order by table_name asc`},headers:{"Content-Type":"application/json"}},l=await $fetch(`${L().public.DUCKDB_DATA_API_BASE_PATH}/execute/sql`,s);l.data&&Array.isArray(l.data)&&(B.value=l.data)}catch(s){console.error(s)}},A=[Fe()],a=Ae();c(!1);const O=c(!1),E=c(!1),ce=t=>{a.value=t.view},de=t=>{R.value=t},ue=t=>{},pe=t=>{},me=()=>{$.value=[],D(),a.value&&a.value.dispatch({changes:{from:0,to:a.value.state.doc.length,insert:""}})},he=t=>{const s=`select * from ${y.value}.${t} limit 100;`;console.log(s),a.value&&(a.value.dispatch({changes:{from:0,to:a.value.state.doc.length,insert:s}}),ee())},ee=()=>{if($.value=[],a.value&&a.value.state.doc.toString(),a.value.state.doc.length===0){h().$toast.show({type:"danger",message:"Empty SQL query is not allowed.",position:"top-left",timeout:2e3});return}D(),te(1)},fe=()=>{D(),a.value&&a.value.dispatch({changes:{from:0,to:a.value.state.doc.length,insert:R.value}})},D=()=>{J.value=[],z=1,F.value=0,N.value={},G.value=[],j.value=[]};re(()=>!a.value||a.value.state.doc.length===0);const R=c(""),J=c([]);let z=1;const F=c(0),N=c({}),G=c([]),j=c([]),te=async t=>{if(E.value=!0,a.value.state.doc.length>0)try{O.value=!0;const s={method:"POST",headers:{"Content-Type":"application/json"},body:{query:R.value}},l=await $fetch(`${L().public.DUCKDB_DATA_API_BASE_PATH}/execute/sql`,s);if(l)if(l.data&&Array.isArray(l.data)){const m=(t-1)*M,b=m+M;J.value=l.data.slice(m,b),N.value=l,z=t;const x=l.total_rows;F.value=Math.ceil(x/M),console.log(l.data[0]),G.value=Object.keys(l.data[0]).map(T=>({label:h().$s.humanize(T),field:T})),j.value=Array.from({length:F.value},(T,K)=>K+1),ge(z,x),E.value=!1}else console.error("Inside error"),h().$toast.show({type:"danger",message:`${l.error}`,position:"top-left",timeout:2e3}),E.value=!1,D();else h().$toast.show({type:"danger",message:"No response from server",position:"top-left",timeout:2e3}),E.value=!1,D()}catch(s){console.error(s),h().$toast.show({type:"danger",error:s,message:`${s}`,position:"top-left",timeout:2e3}),E.value=!1,D()}},ge=(t,s)=>{const l=Math.ceil(s/M),m=Math.min(l,js),b=Math.floor(m/2);let x=Math.max(1,t-b),T=Math.min(l,t+b);T-x+1>m&&(t<=b?T=x+m-1:l-t<b?x=l-m+1:(x=t-Math.floor(m/2),T=x+m-1)),j.value=Array.from({length:T-x+1},(K,X)=>x+X)},ve=t=>{const s="relative inline-flex items-center px-4 py-2 text-sm font-semibold ring-1 ring-inset ring-gray-300 focus:outline-offset-0";return t===z?`${s} bg-primary-600 text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600`:`${s} text-gray-900 hover:bg-gray-50 focus:z-20 focus:outline-offset-0`},W=async t=>{t<1||t>j.length||t>F.value||te(t)},se=async t=>{const s=a.value?a.value.state.doc.toString():"",l={method:"POST",headers:{"Content-Type":"application/json"},body:{sql:s,transpile_to:t.toLowerCase()}};try{const m=await $fetch(`${L().public.DUCKDB_DATA_API_BASE_PATH}/sqlglot/transpile`,l);m?a.value&&a.value.dispatch({changes:{from:0,to:a.value.state.doc.length,insert:m.result_sql}}):h().$toast.show({type:"danger",message:"Error",position:"top-left",timeout:2e3})}catch(m){console.error("Error transpiling SQL:",m)}},ye=async()=>{const t=a.value?a.value.state.doc.toString():"",s={method:"POST",headers:{"Content-Type":"application/json"},body:{sql:t}};try{const l=await $fetch(`${L().public.DUCKDB_DATA_API_BASE_PATH}/sqlglot/prettify`,s);l?a.value&&a.value.dispatch({changes:{from:0,to:a.value.state.doc.length,insert:l.result_sql}}):h().$toast.show({type:"danger",message:"Error",position:"top-left",timeout:2e3})}catch(l){console.error("Error prettifying SQL:",l)}},oe=async t=>{$.value=[],D();let s=t.replace("Extract ","").replace("(s)","").toLowerCase();const l=a.value?a.value.state.doc.toString():"",m={method:"POST",headers:{"Content-Type":"application/json"},body:{sql:l}};try{const b=await $fetch(`${L().public.DUCKDB_DATA_API_BASE_PATH}/sqlglot/extract/${s}`,m);b?$.value=[...new Set(b.data)]:h().$toast.show({type:"danger",message:"Error",position:"top-left",timeout:2e3})}catch(b){console.error(`Error extracting ${s}s`,b)}},V=c(!1),H=c(!1),Y=c("Postgres"),_e=c("table"),be=["athena","bigQuery","clickHouse","databricks","doris","drill","duckDB","hive","mySQL","oracle","postgres","presto","pRQL","redshift","snowflake","spark","spark2","sQLite","starRocks","tableau","teradata","trino","tSQL"],xe=["Extract Table(s)","Extract Column(s)","Extract Projection(s)"],we=t=>{Y.value=t,se(t),V.value=!1},ke=t=>{_e.value=t,oe(t),H.value=!1};c("200px"),ne(async()=>{u.value.length>0&&(y.value=u.value[0].name,p(u.value[0].name))});const $e=c(!1);return h().$bus.$on("evtAboutTemplrJS",t=>{$e.value=!0}),(t,s)=>{const l=He,m=ie,b=Xe,x=le,T=Pe,K=_t,X=Oe;return r(),Z(X,null,{default:Q(()=>[e("div",null,[e("div",bt,[e("div",xt,[wt,e("ul",null,[e("li",kt,[o(u).length>0?(r(),Z(l,{key:0,data:o(u),onChange:_,show_label:!0,name:"schema",label:"Schema",selectedValue:o(u)[2].name},null,8,["data","selectedValue"])):S("",!0)]),$t]),e("nav",St,[e("ul",Ct,[o(B).length>0?(r(),i("li",At,Pt)):S("",!0),(r(!0),i(C,null,q(o(B),n=>(r(),i("li",{key:n},[e("a",{href:"#",onClick:I(P=>he(n.name),["prevent"]),class:"flex items-center text-base font-normal text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"},[v(m,{name:"icon-park-twotone:layout-one",class:"h-4 w-4 text-center mr-2"}),e("span",Bt,f(n.name),1)],8,qt)]))),128))])])]),e("div",Dt,[v(b,{api_end_point:"/footer-support-nav.json"})])]),e("div",zt,[e("div",Lt,[e("div",Qt,[e("button",{onClick:s[0]||(s[0]=n=>("useNuxtApp"in t?t.useNuxtApp:o(h))().$bus.$emit("evtSideBarGuide")),class:"h-8 rounded-2xl bg-primary-500 hover:bg-primary-700 text-white font-semibold px-4 border border-primary-500 hover:border-transparent",title:"Practice SQL Queries"},"Practice SQL Queries")]),Et]),e("main",jt,[e("div",Mt,[e("div",Ot,[v(x,{placeholder:"Codemirror Loading..."},{default:Q(()=>[v(o(Ie),{value:o(R),onReady:ce,onChange:de,onFocus:ue,onBlur:pe,placeholder:Es,style:Te({height:t.auto,width:"100%"}),autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:A},null,8,["value","style"])]),_:1}),e("footer",Ft,[e("button",{onClick:ee,class:"absolute bottom-0 left-[45%] rounded-full bg-primary-100 hover:bg-primary-200 p-2 text-white z-40 h-10 w-10 transform -translate-x-1/2 translate-y-1/2 p-2 rounded-full z-10",title:"Execute SQL code"},[e("span",It,[v(m,{name:"icon-park-twotone:play",class:"w-10 h-10 text-primary-600","aria-label":"Execute"})])])])]),e("div",Rt,[e("footer",Nt,[e("button",{onClick:me,class:"h-8 px-4 bg-transparent hover:bg-primary-500 text-primary-700 font-semibold hover:text-white border border-primary-500 hover:border-transparent",title:"Reset SQL query editor"},"Clear"),e("button",{onClick:fe,class:"h-8 bg-transparent hover:bg-primary-500 text-primary-700 font-semibold hover:text-white px-4 border border-primary-500 hover:border-transparent",title:"Rollback to last SQL statement"},"Rollback"),e("button",{onClick:ye,class:"h-8 bg-primary-500 hover:bg-primary-700 text-white font-semibold px-4 border border-primary-500 hover:border-transparent",title:"Prettify SQL query using SQLGlot Python library"},"Prettify"),e("button",{onClick:s[1]||(s[1]=(...n)=>t.optimize&&t.optimize(...n)),class:"h-8 bg-primary-500 hover:bg-primary-700 text-white font-semibold px-4 border border-primary-500 hover:border-transparent",title:"Optimize SQL query using SQLGlot Python library"},"Optimize"),e("div",Gt,[e("button",{type:"button",class:"h-8 relative inline-flex items-center bg-primary-500 hover:bg-primary-700 text-white font-bold px-3 py-2 focus:z-10",onClick:s[2]||(s[2]=n=>se(o(Y))),title:"Transpile between SQL dialacts using SQLGlot Python library"},"Transpile"),e("div",Vt,[e("button",{type:"button",class:"h-8 relative inline-flex items-center bg-primary-500 hover:bg-primary-700 text-white font-bold px-2 py-2 focus:z-10",onClick:s[3]||(s[3]=n=>V.value=!o(V))},Kt),o(V)?(r(),i("div",Ut,[e("div",Jt,[(r(),i(C,null,q(be,(n,P)=>e("a",{key:P,onClick:Se=>we(n),class:"text-gray-700 block px-4 py-2 text-sm cursor-pointer hover:bg-primary-100",role:"menuitem"},f(n),9,Wt)),64))])])):S("",!0)])]),e("div",Yt,[e("button",{type:"button",class:"h-8 relative inline-flex items-center bg-primary-500 hover:bg-primary-700 text-white font-bold px-3 py-2 focus:z-10",onClick:s[4]||(s[4]=n=>oe(o(Y))),title:"Parse SQL and extract Table, Column and Projections using SQLGlot Python library"},"Parse SQL"),e("div",Xt,[e("button",{type:"button",class:"h-8 relative inline-flex items-center bg-primary-500 hover:bg-primary-700 text-white font-bold px-2 py-2 focus:z-10",onClick:s[5]||(s[5]=n=>H.value=!o(H))},es),o(H)?(r(),i("div",ts,[e("div",ss,[(r(),i(C,null,q(xe,(n,P)=>e("a",{key:P,onClick:Se=>ke(n),class:"text-gray-700 block px-4 py-2 text-sm cursor-pointer hover:bg-primary-100",role:"menuitem"},f(n),9,os)),64))])])):S("",!0)])])])]),e("div",as,[e("div",null,[e("div",ns,[o(E)?(r(),i("div",rs,ls)):S("",!0),o(E)?(r(),i("div",cs,us)):S("",!0),o(j).length>0?(r(),i("div",ps,[ms,e("div",hs,[e("div",fs,[e("div",gs,[e("table",vs,[e("thead",ys,[e("tr",null,[(r(!0),i(C,null,q(o(G),n=>(r(),i("th",{scope:"col",key:n.field,class:"sticky top-0 z-10 border-b border-gray-300 py-3.5 whitespace-nowrap px-4 text-left text-sm font-semibold text-zinc-600 sm:pl-0"},f(n.field),1))),128))])]),e("tbody",_s,[(r(!0),i(C,null,q(o(J),n=>(r(),i("tr",{key:n.id},[(r(!0),i(C,null,q(o(G),P=>(r(),i("td",{key:P.field,class:"whitespace-nowrap text-left text-sm text-zinc-600"},f(n[P.field]),1))),128)),bs]))),128))])])])])])])):S("",!0)])]),o(j).length>0?(r(),i("div",xs,[e("div",null,[e("p",ws,[U(" Showing "),e("span",ks,f(t.$s.numberFormat((o(z)-1)*M+1,0,".",",")),1),U(" to "),e("span",$s,f(t.$s.numberFormat(Math.min(o(z)*M,o(N).total_rows),0,".",",")),1),U(" of "),e("span",Ss,f(t.$s.numberFormat(o(N).total_rows,0,".",",")),1)])]),e("div",null,[e("nav",Cs,[e("a",{href:"#",onClick:s[6]||(s[6]=I(n=>W(o(z)-1),["prevent"])),id:"prev_page",class:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},Ps),(r(!0),i(C,null,q(o(j),n=>(r(),i(C,null,[n<=o(F)?(r(),i("a",{key:n,href:"#",class:ae(ve(n)),id:`pg_${n}`,onClick:I(P=>W(n),["prevent"])},f(n),11,qs)):S("",!0)],64))),256)),e("a",{href:"#",onClick:s[7]||(s[7]=I(n=>W(o(z)+1),["prevent"])),id:"next_page",class:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},zs)])])])):S("",!0),Ls,o($).length>0?(r(),i("div",Qs,[(r(!0),i(C,null,q(o($),(n,P)=>(r(),i("span",{key:P,class:ae(`${k()} text-gray-800 rounded-full px-4 py-1 text-sm font-medium`)},f(n),3))),128))])):S("",!0)])])])])]),v(T),v(K,{form_title:"DuckDB SQL Guide",form_description:"Handy SQL queries to practice against the sample Tickit database",content_identifier:"mastering-sql-queries-with-the-tickit-database-on-duckdb",class:"z-40"})]),_:1})}}};export{oo as default};
