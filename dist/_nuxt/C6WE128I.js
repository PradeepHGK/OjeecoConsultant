import v from"./Cr0JjmH5.js";import{r,x as l,k as a,c,a as s,b as y,C as u,n as x,q as _,v as h,o as p,H as g}from"./DQim9pRB.js";import{u as b}from"./DgkF2B2v.js";import"./7T40Ad-7.js";import"./DlAUqK2U.js";import"./xyCIIb-V.js";const w={key:0,class:"fixed inset-0 overflow-hidden","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},k={class:"absolute inset-0 overflow-hidden"},U=s("div",{class:"absolute inset-0","aria-hidden":"true"},null,-1),C={class:"absolute inset-y-0 right-0 pl-10 max-w-full flex"},S={class:"w-screen max-w-md"},$={class:"h-full divide-y divide-gray-200 flex flex-col bg-white shadow-xl"},V={class:"flex-1 h-0 overflow-y-auto"},N={class:"space-y-1 py-6 px-4 bg-primary-700 sm:px-6"},j={class:"flex items-center justify-between space-x-3"},B=s("h2",{class:"text-lg leading-7 font-medium text-white"},"User",-1),z={class:"h-7 flex items-center"},M=s("span",{class:"sr-only"},"Close panel",-1),q=s("div",null,[s("p",{class:"text-sm leading-5 text-primary-300"},"Create new user account")],-1),A={key:0,class:"flex-1 flex flex-col justify-between"},E=g('<div class="space-y-6 pt-6 pb-5"><div class="flex justify-center"><span class="inline-flex"><button type="button" class="inline-flex items-center px-6 py-3 text-base font-medium text-gray-600"><svg class="-ml-1 mr-3 h-5 w-5 animate-spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" aria-hidden="true"><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Processing... </button></span></div></div>',1),F=[E],H={key:1,class:"flex-1 flex flex-col justify-between"},P={class:"px-4 divide-y divide-gray-200 sm:px-6"},R={class:"space-y-6 pt-6 pb-5"},D={class:"sm:overflow-hidden"},G={class:"bg-white space-y-6"},I={class:"grid grid-cols-1 gap-y-3 gap-x-4 sm:grid-cols-6"},J={class:"sm:col-span-6"},L=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1),O={class:"mt-1"},T={class:"sm:col-span-6"},K=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1),Q={class:"mt-1"},W=s("span",{class:"inline-flex rounded-md shadow-sm"},[s("button",{type:"button",class:"py-2 px-4 border border-gray-300 text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out"},"Reset")],-1),X="/api/users/",is={__name:"UserSignup",setup(Y){const t=r({}),i=r(!1),o=r(!1);r(!1),l().$bus.$on("evtUserSignup",n=>{o.value=!o.value,t.value={}});async function m(){try{i.value=!0,await b(X+"signup",{method:"post",body:t.value,initialCache:!1,onResponse({request:n,response:e,options:f}){console.log("response._data="+JSON.stringify(e._data)),e._data&&(e._data.status==500?l().$toast.show({type:"danger",message:e._data.message,timeout:6}):e._data.status==200?(l().$toast.show({type:"success",message:e._data.message,timeout:6}),l().$bus.$emit("evtSearchUsers"),o.value=!o.value,t.value={}):l().$toast.show({type:"danger",message:"Failure during new user sign up",timeout:6}))}},"$vc6G3woxcL"),i.value=!1}catch(n){console.log(n),i.value=!1}finally{}}return(n,e)=>{const f=v;return a(o)?(p(),c("section",w,[s("div",k,[U,s("div",C,[s("div",S,[s("div",$,[s("div",V,[s("header",N,[s("div",j,[B,s("div",z,[s("button",{onClick:e[0]||(e[0]=d=>o.value=!1),"aria-label":"Close panel",class:"rounded-md bg-primary-700 text-primary-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white"},[M,y(f,{name:"material-symbols:close",class:"h-6 w-6","aria-hidden":"true"})])])]),q]),a(i)?(p(),c("div",A,F)):u("",!0),a(i)?u("",!0):(p(),c("div",H,[s("div",P,[s("div",R,[s("form",{name:"frmUsers",id:"frmUsers",class:"space-y-8 divide-y divide-gray-200",onSubmit:x(m,["prevent"])},[s("div",D,[s("div",G,[s("div",I,[s("div",J,[L,s("div",O,[_(s("input",{type:"text",id:"email",name:"email","onUpdate:modelValue":e[1]||(e[1]=d=>a(t).email=d),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[h,a(t).email]])])]),s("div",T,[K,s("div",Q,[_(s("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":e[2]||(e[2]=d=>a(t).password=d),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[h,a(t).password]])])])])])])],32)])])]))]),s("div",{class:"w-full flex-shrink-0 px-4 py-4 space-x-4 flex justify-end"},[W,s("span",{class:"inline-flex rounded-md shadow-sm"},[s("button",{onClick:m,type:"submit",class:"zyn-button"},"Sign Up")])])])])])])])):u("",!0)}}};export{is as default};
