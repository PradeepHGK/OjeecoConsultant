import{aJ as i,x as a}from"./DQim9pRB.js";const c=i("country",{state:()=>({countries:[],loaded:!1}),getters:{list_all:o=>()=>o.countries,country_by_code:o=>n=>{const r=o.countries.filter(e=>e.code===n);return r.length>0?r[0].name:""},country_by_name:o=>n=>{const r=o.countries.filter(e=>e.name===n);return r.length>0?r[0]:void 0}},actions:{updateCountry(o){this.countries.push(o)},reloadCountry(o){console.log("Reloading country..."),this.countries=o,this.loaded=!0,console.log("Countries loaded")},async loadCountriesIfNeeded(o){if(!this.loaded)try{const n=await fetch(`${o.TEMPLRJS_CONFIG_ROOT_PATH}/countries.json`,{method:"GET"});if(!n.ok)throw new Error("Failed to load countries");const r=await n.json();this.reloadCountry(r)}catch(n){console.error("Error loading countries:",n)}}}}),d=i("company",{state:()=>({company:{},loaded:!1}),getters:{organization:o=>{if(o.company.id)return{id:o.company.id,code:o.company.code,company_name:o.company.company_name,company_website:o.company.company_website,company_email:o.company.company_email,phone_number:o.company.phone_number,tin_ein_number:o.company.tin_ein_number,date_of_incorporation:o.company.date_of_incorporation,country_of_incorporation:c().country_by_code(o.company.country_of_incorporation),address:o.company.address}},basic_details:o=>{if(o.company.id)return{company_name:o.company.company_name,tin_ein_number:o.company.tin_ein_number,date_of_incorporation:a().$dayjs(o.company.date_of_incorporation).format("DD-MMM-YYYY"),country_of_incorporation:c().country_by_code(o.company.country_of_incorporation)}},primary_address:o=>{if(o.company.id)return o.company.address},primary_address_formatted:o=>{if(o.company.id){var n=o.company.address.appartment!=null?o.company.address.appartment+" "+o.company.address.street:o.company.address.street+", ";return n+=o.company.address.city+"-"+o.company.address.postal_code+", ",n+=o.company.address.state+", "+o.company.address.country_name,{address:n,company_email:o.company.company_email,phone_number:o.company.phone_number,company_website:o.company.company_website}}else return},corporate_headquarters:o=>{if(o.company.id)return o.company.address},incorporation:o=>{if(o.company.id)return{tin_ein_number:o.company.tin_ein_number,date_of_incorporation:a().$dayjs(o.company.date_of_incorporation).format("DD-MMM-YYYY"),year_of_incorporation:a().$dayjs(o.company.date_of_incorporation).format("DD-MMM-YYYY"),country_of_incorporation:o.company.country_of_incorporation}},logo_url:o=>o.company.logo_url},actions:{updateCompany(o){this.company=o},reloadCompany(o){console.log("reloading company"),this.company=o,this.loaded=!0,console.log("reloaded company")},updateLogoUrl(o){this.company.logo_url=o},async loadCompanyIfNeeded(o){if(!this.loaded)try{const n=await fetch(`${o.TEMPLRJS_CONFIG_ROOT_PATH}/company.json`,{method:"GET"});if(!n.ok)throw new Error("Failed to load company data");const r=await n.json();this.reloadCompany(r[0])}catch(n){console.error("Error loading company data:",n)}}}});export{c as a,d as u};
