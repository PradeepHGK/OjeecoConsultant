import{H as h,t as V,o as j,K as P,T as $,a as v}from"./dom.cb3029af.js";import{K as B,d as F,p as G}from"./label.0680d1f4.js";import{M,f as O,a as R}from"./description.3cfaa39b.js";import{b as T}from"./use-resolve-button-type.941463e9.js";import{g as y,j as b,k as i,aD as A,aw as H,M as N,w as I,N as f,F as q}from"./entry.5eee13ba.js";let k=Symbol("GroupContext");y({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(l,{slots:d,attrs:o}){let n=b(null),p=B({name:"SwitchLabel",props:{htmlFor:i(()=>{var t;return(t=n.value)==null?void 0:t.id}),onClick(t){n.value&&(t.currentTarget.tagName==="LABEL"&&t.preventDefault(),n.value.click(),n.value.focus({preventScroll:!0}))}}}),a=M({name:"SwitchDescription"});return A(k,{switchRef:n,labelledby:p,describedby:a}),()=>h({theirProps:l,ourProps:{},slot:{},slots:d,attrs:o,name:"SwitchGroup"})}});let X=y({name:"Switch",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${V()}`}},inheritAttrs:!1,setup(l,{emit:d,attrs:o,slots:n,expose:p}){let a=H(k,null),[t,c]=F(i(()=>l.modelValue),e=>d("update:modelValue",e),i(()=>l.defaultChecked));function m(){c(!t.value)}let S=b(null),u=a===null?S:a.switchRef,w=T(i(()=>({as:l.as,type:o.type})),u);p({el:u,$el:u});function g(e){e.preventDefault(),m()}function C(e){e.key===v.Space?(e.preventDefault(),m()):e.key===v.Enter&&G(e.currentTarget)}function D(e){e.preventDefault()}let s=i(()=>{var e,r;return(r=(e=j(u))==null?void 0:e.closest)==null?void 0:r.call(e,"form")});return N(()=>{I([s],()=>{if(!s.value||l.defaultChecked===void 0)return;function e(){c(l.defaultChecked)}return s.value.addEventListener("reset",e),()=>{var r;(r=s.value)==null||r.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{id:e,name:r,value:K,...L}=l,x={checked:t.value},E={id:e,ref:u,role:"switch",type:w.value,tabIndex:0,"aria-checked":t.value,"aria-labelledby":a==null?void 0:a.labelledby.value,"aria-describedby":a==null?void 0:a.describedby.value,onClick:g,onKeyup:C,onKeypress:D};return f(q,[r!=null&&t.value!=null?f(O,P({features:R.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:t.value,name:r,value:K})):null,h({ourProps:E,theirProps:{...o,...$(L,["modelValue","defaultChecked"])},slot:x,attrs:o,slots:n,name:"Switch"})])}}});export{X as a};
