import{D as fe}from"./Dropdownlist.1b365210.js";import{_ as he}from"./client-only.e4cde69a.js";import{g as B,j as x,N as Y,k as y,aD as le,M as Z,w as ie,aE as ve,F as K,at as re,aw as te,V as U,W,c as $,b as t,a as be,t as T,e as R,i as j,l as D,d as g,x as ge,m as X,Z as se,aL as oe,s as q,aM as z,ae as O,v as E,o as b,p as ee,ab as ye,be as _e,H as xe}from"./entry.5eee13ba.js";import{C as we,_ as de}from"./index.79fffb63.js";import{o as v,H as F,T as Ce,t as ue,N as ne,u as J,a as A}from"./dom.cb3029af.js";import{I as N,T as G,m as $e,O as M,N as S}from"./focus-management.fc3e9b19.js";import{b as ke}from"./use-resolve-button-type.941463e9.js";import{a as Ie,f as ce}from"./description.3cfaa39b.js";import{t as Ae}from"./micro-task.89dcd6af.js";import{a as Se}from"./switch.ce1b5e48.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./label.0680d1f4.js";let Ee=B({props:{onFocus:{type:Function,required:!0}},setup(e){let s=x(!0);return()=>s.value?Y(ce,{as:"button",type:"button",features:Ie.Focusable,onFocus(r){r.preventDefault();let p,u=50;function i(){var m;if(u--<=0){p&&cancelAnimationFrame(p);return}if((m=e.onFocus)!=null&&m.call(e)){s.value=!1,cancelAnimationFrame(p);return}p=requestAnimationFrame(i)}p=requestAnimationFrame(i)}}):null}});var Pe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Pe||{}),Te=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Te||{});let pe=Symbol("TabsContext");function L(e){let s=te(pe,null);if(s===null){let r=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,L),r}return s}let ae=Symbol("TabsSSRContext"),De=B({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:s,attrs:r,emit:p}){var u;let i=x((u=e.selectedIndex)!=null?u:e.defaultIndex),m=x([]),_=x([]),a=y(()=>e.selectedIndex!==null),o=y(()=>a.value?e.selectedIndex:i.value);function f(n){var l;let c=N(h.tabs.value,v),C=N(h.panels.value,v),P=c.filter(I=>{var V;return!((V=v(I))!=null&&V.hasAttribute("disabled"))});if(n<0||n>c.length-1){let I=J(i.value===null?0:Math.sign(n-i.value),{[-1]:()=>1,[0]:()=>J(Math.sign(n),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0});i.value=J(I,{[0]:()=>c.indexOf(P[0]),[1]:()=>c.indexOf(P[P.length-1])}),h.tabs.value=c,h.panels.value=C}else{let I=c.slice(0,n),V=[...c.slice(n),...I].find(me=>P.includes(me));if(!V)return;let Q=(l=c.indexOf(V))!=null?l:h.selectedIndex.value;Q===-1&&(Q=h.selectedIndex.value),i.value=Q,h.tabs.value=c,h.panels.value=C}}let h={selectedIndex:y(()=>{var n,l;return(l=(n=i.value)!=null?n:e.defaultIndex)!=null?l:null}),orientation:y(()=>e.vertical?"vertical":"horizontal"),activation:y(()=>e.manual?"manual":"auto"),tabs:m,panels:_,setSelectedIndex(n){o.value!==n&&p("change",n),a.value||f(n)},registerTab(n){var l;if(m.value.includes(n))return;let c=m.value[i.value];m.value.push(n),m.value=N(m.value,v);let C=(l=m.value.indexOf(c))!=null?l:i.value;C!==-1&&(i.value=C)},unregisterTab(n){let l=m.value.indexOf(n);l!==-1&&m.value.splice(l,1)},registerPanel(n){_.value.includes(n)||(_.value.push(n),_.value=N(_.value,v))},unregisterPanel(n){let l=_.value.indexOf(n);l!==-1&&_.value.splice(l,1)}};le(pe,h);let d=x({tabs:[],panels:[]}),w=x(!1);Z(()=>{w.value=!0}),le(ae,y(()=>w.value?null:d.value));let k=y(()=>e.selectedIndex);return Z(()=>{ie([k],()=>{var n;return f((n=e.selectedIndex)!=null?n:e.defaultIndex)},{immediate:!0})}),ve(()=>{if(!a.value||o.value==null||h.tabs.value.length<=0)return;let n=N(h.tabs.value,v);n.some((l,c)=>v(h.tabs.value[c])!==v(l))&&h.setSelectedIndex(n.findIndex(l=>v(l)===v(h.tabs.value[o.value])))}),()=>{let n={selectedIndex:i.value};return Y(K,[m.value.length<=0&&Y(Ee,{onFocus:()=>{for(let l of m.value){let c=v(l);if((c==null?void 0:c.tabIndex)===0)return c.focus(),!0}return!1}}),F({theirProps:{...r,...Ce(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:n,slots:s,attrs:r,name:"TabGroup"})])}}}),Ve=B({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:s,slots:r}){let p=L("TabList");return()=>{let u={selectedIndex:p.selectedIndex.value},i={role:"tablist","aria-orientation":p.orientation.value};return F({ourProps:i,theirProps:e,slot:u,attrs:s,slots:r,name:"TabList"})}}}),je=B({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${ue()}`}},setup(e,{attrs:s,slots:r,expose:p}){let u=L("Tab"),i=x(null);p({el:i,$el:i}),Z(()=>u.registerTab(i)),re(()=>u.unregisterTab(i));let m=te(ae),_=y(()=>{if(m.value){let l=m.value.tabs.indexOf(e.id);return l===-1?m.value.tabs.push(e.id)-1:l}return-1}),a=y(()=>{let l=u.tabs.value.indexOf(i);return l===-1?_.value:l}),o=y(()=>a.value===u.selectedIndex.value);function f(l){var c;let C=l();if(C===G.Success&&u.activation.value==="auto"){let P=(c=$e(i))==null?void 0:c.activeElement,I=u.tabs.value.findIndex(V=>v(V)===P);I!==-1&&u.setSelectedIndex(I)}return C}function h(l){let c=u.tabs.value.map(C=>v(C)).filter(Boolean);if(l.key===A.Space||l.key===A.Enter){l.preventDefault(),l.stopPropagation(),u.setSelectedIndex(a.value);return}switch(l.key){case A.Home:case A.PageUp:return l.preventDefault(),l.stopPropagation(),f(()=>M(c,S.First));case A.End:case A.PageDown:return l.preventDefault(),l.stopPropagation(),f(()=>M(c,S.Last))}if(f(()=>J(u.orientation.value,{vertical(){return l.key===A.ArrowUp?M(c,S.Previous|S.WrapAround):l.key===A.ArrowDown?M(c,S.Next|S.WrapAround):G.Error},horizontal(){return l.key===A.ArrowLeft?M(c,S.Previous|S.WrapAround):l.key===A.ArrowRight?M(c,S.Next|S.WrapAround):G.Error}}))===G.Success)return l.preventDefault()}let d=x(!1);function w(){var l;d.value||(d.value=!0,!e.disabled&&((l=v(i))==null||l.focus(),u.setSelectedIndex(a.value),Ae(()=>{d.value=!1})))}function k(l){l.preventDefault()}let n=ke(y(()=>({as:e.as,type:s.type})),i);return()=>{var l;let c={selected:o.value},{id:C,...P}=e,I={ref:i,onKeydown:h,onMousedown:k,onClick:w,id:C,role:"tab",type:n.value,"aria-controls":(l=v(u.panels.value[a.value]))==null?void 0:l.id,"aria-selected":o.value,tabIndex:o.value?0:-1,disabled:e.disabled?!0:void 0};return F({ourProps:I,theirProps:P,slot:c,attrs:s,slots:r,name:"Tab"})}}}),Ue=B({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:s,attrs:r}){let p=L("TabPanels");return()=>{let u={selectedIndex:p.selectedIndex.value};return F({theirProps:e,ourProps:{},slot:u,attrs:r,slots:s,name:"TabPanels"})}}}),Re=B({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${ue()}`},tabIndex:{type:Number,default:0}},setup(e,{attrs:s,slots:r,expose:p}){let u=L("TabPanel"),i=x(null);p({el:i,$el:i}),Z(()=>u.registerPanel(i)),re(()=>u.unregisterPanel(i));let m=te(ae),_=y(()=>{if(m.value){let f=m.value.panels.indexOf(e.id);return f===-1?m.value.panels.push(e.id)-1:f}return-1}),a=y(()=>{let f=u.panels.value.indexOf(i);return f===-1?_.value:f}),o=y(()=>a.value===u.selectedIndex.value);return()=>{var f;let h={selected:o.value},{id:d,tabIndex:w,...k}=e,n={ref:i,id:d,role:"tabpanel","aria-labelledby":(f=v(u.tabs.value[a.value]))==null?void 0:f.id,tabIndex:o.value?w:-1};return!o.value&&e.unmount&&!e.static?Y(ce,{as:"span",...n}):F({ourProps:n,theirProps:k,slot:h,attrs:s,slots:r,features:ne.Static|ne.RenderStrategy,visible:o.value,name:"TabPanel"})}}});const Me={key:0,class:"fixed inset-0 overflow-hidden","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},Oe={class:"absolute inset-0 overflow-hidden"},Be=t("div",{class:"absolute inset-0","aria-hidden":"true"},null,-1),Ne={class:"absolute inset-y-0 right-0 pl-10 max-w-full flex"},qe={class:"w-screen max-w-md"},Fe={class:"h-full divide-y divide-gray-200 flex flex-col bg-white shadow-xl"},Le={class:"flex-1 h-0 overflow-y-auto"},We={class:"space-y-1 py-6 px-4 bg-primary-200 bg-opacity-50 sm:px-6"},ze={class:"flex items-center justify-between space-x-3"},Ge=t("h2",{class:"text-lg leading-7 font-medium text-gray-700"},"Client/Project Allocation ",-1),He={class:"h-7 flex items-center"},Ke=t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Je=[Ke],Ye=t("p",{class:"text-sm leading-5 text-gray-500"},"Manage client and project allocations",-1),Ze={key:0,class:"flex-1 flex flex-col justify-between"},Qe=xe('<div class="space-y-6 pt-6 pb-5"><div class="flex justify-center"><span class="inline-flex"><button type="button" class="inline-flex items-center px-6 py-3 text-base font-medium text-gray-600"><svg class="-ml-1 mr-3 h-5 w-5 animate-spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" aria-hidden="true"><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Processing... </button></span></div></div>',1),Xe=[Qe],et={class:"w-full max-w-md px-2 sm:px-0"},tt={class:"text-sm font-medium leading-5"},at={class:"mt-1 flex space-x-1 text-xs font-normal leading-4 text-gray-500"},lt=t("li",null,"-",-1),st=t("li",null,"Â·",-1),ot=t("a",{href:"#",class:q(["absolute inset-0 rounded-md","ring-blue-400 focus:z-10 focus:outline-none focus:ring-2"])},null,-1),nt={key:1},it={key:0,class:"flex-1 flex flex-col justify-between"},rt={class:"px-4 divide-y divide-gray-200 sm:px-6"},dt={class:"space-y-6 pt-6 pb-5"},ut={class:"sm:overflow-hidden"},ct={class:"bg-white space-y-6"},pt={class:"grid grid-cols-1 gap-y-3 gap-x-4 sm:grid-cols-6"},mt={class:"sm:col-span-6"},ft={class:"space-y-4 sm:grid sm:grid-cols-3 sm:items-start sm:gap-6 sm:space-y-0"},ht={key:0,class:"aspect-w-3 aspect-h-2 sm:aspect-w-3 sm:aspect-h-4"},vt=["src","alt"],bt={key:1,class:"aspect-w-3 aspect-h-2 sm:aspect-w-3 sm:aspect-h-4"},gt=t("img",{class:"rounded-lg object-cover shadow-lg",src:"https://via.placeholder.com/100.png",alt:"Placeholder image"},null,-1),yt=[gt],_t={key:2,class:"sm:col-span-2"},xt={class:"space-y-4"},wt={class:"space-y-1 leading-6"},Ct={class:"text-xl font-bold"},$t={class:"text-primary-600"},kt=t("div",{class:"sm:col-span-6"},[t("h2",{class:"font-medium text-blue-gray-900"}," Client/Project Information")],-1),It={class:"sm:col-span-6"},At={class:"sm:col-span-6"},St={class:"sm:col-span-6"},Et=t("label",{for:"percentage_allocation",class:"block text-sm font-medium text-gray-700"},"Percentage (%) Allocation",-1),Pt={class:"mt-1"},Tt={class:"sm:col-span-6"},Dt=t("label",{for:"work_location",class:"block text-sm font-medium text-gray-700"},"Work Location ",-1),Vt={class:"mt-1"},jt={class:"sm:col-span-6"},Ut=t("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 pb-1"},"Duration",-1),Rt={class:"grid grid-cols-1 gap-x-4 sm:grid-cols-2"},Mt=["value"],Ot=["value"],Bt=t("div",{class:"sm:col-span-3 mt-1"},[t("label",{for:"billable",class:"block text-sm font-medium text-gray-700"},"Billable")],-1),Nt={class:"sm:col-span-3"},qt={class:"mt-1"},Ft=t("span",{class:"sr-only"},"Billable",-1),Lt={class:"w-full flex-shrink-0 px-4 py-4 space-x-4 flex justify-end"},Wt=t("span",{class:"inline-flex rounded-md shadow-sm"},[t("button",{type:"button",class:"py-2 px-4 border border-gray-300 text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out"},"Reset")],-1),zt={key:0,class:"inline-flex rounded-md shadow-sm"},Gt={class:"inline-flex rounded-md shadow-sm"};let H="/api/employees/allocations/";const Ht={components:{Calendar:we,DatePicker:de},data(){return{isUpsertClientAllocationVisible:!1,isDeleteButtonVisible:!1,allocation:{},data:{},date:new Date,progress:!1}},methods:{getEmployee(e){this.progress=!0;const{data:s}=z("api/mongodb/query/aggregate",{method:"post",initialCache:!1,body:{collection:"vwEmployees",pipeline:[{$match:{_id:{$oid:e}}}]}},"$UhEpIeLIWK");ie(s,()=>{console.log("employee",s._rawValue),this.data=s._rawValue.documents[0],this.progress=!1})},getEmployeeAllocations(e){O("allocations-list-"+Math.random,()=>$fetch(H,{initialCache:!1,method:"post",body:{collection:"allocations",projection:{},filter:{emp_id:{$eq:e}},limit:100},onResponse({request:s,response:r,options:p}){r._data.documents&&(console.log("allocations=",r._data),this.allocation=r._data.documents[0]),this.progress=!1}}),"$YIa8lLLpsH")},async filterClientManagers(e){await O("client_managers-list-"+Math.random,()=>$fetch("/api/contacts",{initialCache:!1,method:"post",body:{collection:"contacts",projection:{_id:1,client:1,name:1,first_name:1,last_name:1,code:"$_id"},filter:{client:{$eq:e}},limit:1e4},onResponse({request:s,response:r,options:p}){U("managers").value=r._data,U("componentKey").value+=1}}),"$V8OHxgIYWk")},async upsertEmployeeAllocation(e){try{if(this.progress=!0,this.allocation.emp_id===void 0){this.allocation.emp_id=this.data._id,this.data.createdAt=E().$dayjs().utc(),this.data.updatedAt=E().$dayjs().utc();const{data:s}=await z(H+"create",{method:"post",body:this.allocation,initialCache:!1,onResponse({request:r,response:p,options:u}){p._data.insertedId&&E().$toast.show({type:"success",message:`Allocation [${p._data.insertedId}] added successfully`,timeout:6})}},"$ehkPhoEW26")}else{const{data:s}=await z(H+this.data._id,{method:"put",initialCache:!1,onResponse({request:r,response:p,options:u}){}},"$4jCGttUiQe")}this.progress=!1,this.isUpsertClientAllocationVisible=!this.isUpsertClientAllocationVisible}catch(s){console.log(s),this.progress=!1}finally{}},async deleteClientAllocation(){try{await z(H+this.data._id,{method:"delete",body:{},initialCache:!1,onResponse({request:e,response:s,options:r}){s._data.deletedCount==1?E().$toast.show({type:"success",message:"Delete was successful",timeout:6}):E().$toast.show({type:"error",message:"The delete failed...",timeout:6}),this.progress=!1,this.isUpsertClientAllocationVisible=!this.isUpsertClientAllocationVisible}},"$hXf0v3fdKe")}catch{}finally{}},async closeEmployeeAllocationPanel(){this.data={},this.isUpsertClientAllocationVisible=!this.isUpsertClientAllocationVisible},handleSelectedInEmployeeClient(e){this.allocation.client=e.target.value,this.filterClientManagers(this.allocation.client)},handleSelectedInEmployee_client_reporting_manager(e){this.allocation.client_reporting_manager=e.target.value}},created(){E().$bus.$on("evtUpsertClientAllocation",e=>{this.getEmployeeAllocations(e._cells[0].data),this.getEmployee(e._cells[0].data),x(new Date).value.setDate(Number(new Date().getDate())+35),e._cells[3].data&&this.filterClientManagers(e._cells[3].data),this.isUpsertClientAllocationVisible=!this.isUpsertClientAllocationVisible}),E().$bus.$on("evtDeleteEmployee",e=>{e!==void 0&&(this.data=e,this.deleteEmployee())})},beforeDestroy(){E().$bus.$off("evtUpsertClientAllocation"),E().$bus.$off("evtDeleteEmployee")}},na=Object.assign(Ht,{__name:"ClientAllocationUpsert",async setup(e){let s,r;const p=x(!1);U("componentKey",()=>x(0)),U("managers"),[s,r]=W(()=>O("departments-list-"+Math.random,()=>$fetch("/api/generic",{initialCache:!1,method:"post",body:{collection:"departments",projection:{},filter:{},limit:1e4},onResponse({request:a,response:o,options:f}){}}),"$64Puolh6QD")),s=await s,r(),[s,r]=W(()=>O("roles-list-"+Math.random,()=>$fetch("/api/generic",{initialCache:!1,method:"post",body:{collection:"roles",projection:{},filter:{},limit:1e4},onResponse({request:a,response:o,options:f}){}}),"$I3iK74hRdd")),s=await s,r();const{data:u}=([s,r]=W(()=>O("clients-list-"+Math.random,()=>$fetch("/api/generic",{initialCache:!1,method:"post",body:{collection:"clients",projection:{},filter:{},limit:1e4},onResponse({request:a,response:o,options:f}){}}),"$rxZjvqmPYh")),s=await s,r(),s),{data:i}=([s,r]=W(()=>O("client_managers-list-"+Math.random,()=>$fetch("/api/contacts",{initialCache:!1,method:"post",body:{collection:"contacts",projection:{_id:1,client:1,name:1,first_name:1,last_name:1,code:"$_id"},filter:{},limit:1e4},onResponse({request:a,response:o,options:f}){}}),"$lIBjffX3cc")),s=await s,r(),s);U("managers").value=i;const m=x({Current:[],Past:[{id:1,title:"Is tech making coffee better or worse?",date:"Jan 7",commentCount:29,shareCount:16,role:"Mobile application developer",start_date:"14-JAN-2022",end_date:"22-SEP-2022",location:"Tampa, FL"},{id:1,title:"Is tech making coffee better or worse?",date:"Jan 7",commentCount:29,shareCount:16,role:"IOS Architect",start_date:"23-SEP-2022",end_date:"CURRENT",location:"Tucson, AZ"}]});function _(a){console.log("Changed active tab to:",a),p.value=a==1}return(a,o)=>{const f=fe,h=he;return a.isUpsertClientAllocationVisible?(b(),$("section",Me,[t("div",Oe,[Be,t("div",Ne,[t("div",qe,[t("div",Fe,[t("div",Le,[t("header",We,[t("div",ze,[Ge,t("div",He,[t("button",{onClick:o[0]||(o[0]=d=>a.closeEmployeeAllocationPanel()),"aria-label":"Close panel",class:"rounded-md bg-primary-700 text-primary-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white"},Je)])]),t("div",null,[Ye,be(" "+T(a.allocations),1)])]),a.progress?(b(),$("div",Ze,Xe)):R("",!0),t("div",et,[j(g(De),{onChange:_},{default:D(()=>[j(g(Ve),{class:"flex space-x-1 bg-blue-900/20 p-1"},{default:D(()=>[(b(!0),$(K,null,ee(Object.keys(g(m)),d=>(b(),X(g(je),{as:"template",key:d},{default:D(({selected:w})=>[t("button",{class:q(["w-full py-2.5 text-sm font-medium leading-5 text-blue-700","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",w?"bg-white shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"])},T(d),3)]),_:2},1024))),128))]),_:1}),j(g(Ue),{class:"mt-2"},{default:D(()=>[(b(!0),$(K,null,ee(Object.values(g(m)),(d,w)=>(b(),X(g(Re),{key:w,class:q(["bg-white p-3",""])},{default:D(()=>[t("ul",null,[(b(!0),$(K,null,ee(d,k=>(b(),$("li",{key:k.id,class:"relative rounded-md p-3 hover:bg-gray-100"},[t("h3",tt,T(k.role),1),t("ul",at,[t("li",null,T(k.start_date),1),lt,t("li",null,T(k.end_date),1),st,t("li",null,T(k.location),1)]),ot]))),128))])]),_:2},1024))),128))]),_:1})]),_:1})]),g(p)?R("",!0):(b(),$("div",nt,[a.progress?R("",!0):(b(),$("div",it,[t("div",rt,[t("div",dt,[t("form",{name:"frmEmployee",id:"frmEmployee",class:"space-y-8 divide-y divide-gray-200",onSubmit:o[7]||(o[7]=ge((...d)=>a.upsertEmployeeAllocation&&a.upsertEmployeeAllocation(...d),["prevent"]))},[t("div",ut,[t("div",ct,[t("div",pt,[t("div",mt,[t("div",ft,[a.data.profile_picture?(b(),$("div",ht,[t("img",{class:"rounded-lg object-cover shadow-lg",src:a.data.profile_picture,alt:a.data.last_name+" "+a.data.first_name},null,8,vt)])):(b(),$("div",bt,yt)),a.data.first_name?(b(),$("div",_t,[t("div",xt,[t("div",wt,[t("h3",Ct,T(a.data.last_name+","+a.data.first_name),1),t("p",$t,T(a.data.role),1)])])])):R("",!0)])]),kt,t("div",It,[j(f,{data:{data:g(u).documents},onChange:a.handleSelectedInEmployeeClient,modelValue:a.allocation.client,"onUpdate:modelValue":o[1]||(o[1]=d=>a.allocation.client=d),show_label:"true",name:"client",label:"Client",selected_value:a.data.allocations[0].client},null,8,["data","onChange","modelValue","selected_value"])]),t("div",At,[(b(),X(f,{key:("useState"in a?a.useState:g(U))("componentKey").value,data:{data:("useState"in a?a.useState:g(U))("managers").value.documents},onChange:a.handleSelectedInEmployee_client_reporting_manager,modelValue:a.data.allocations[0].client_reporting_manager,"onUpdate:modelValue":o[2]||(o[2]=d=>a.data.allocations[0].client_reporting_manager=d),show_label:"true",name:"client_reporting_manager",label:"Client Reporting Manager",selected_value:a.data.allocations[0].client_reporting_manager},null,8,["data","onChange","modelValue","selected_value"]))]),t("div",St,[Et,t("div",Pt,[se(t("input",{type:"text",id:"percentage_allocation",name:"percentage_allocation","onUpdate:modelValue":o[3]||(o[3]=d=>a.data.allocations[0].percentage_allocation=d),class:"py-3 px-4 block w-full pl-5 focus:ring-lime-600 focus:border-lime-600 border-gray-300"},null,512),[[oe,a.data.allocations[0].percentage_allocation]])])]),t("div",Tt,[Dt,t("div",Vt,[se(t("input",{type:"text",id:"work_location",name:"work_location","onUpdate:modelValue":o[4]||(o[4]=d=>a.data.allocations[0].work_location=d),class:"py-3 px-4 block w-full pl-5 focus:ring-lime-600 focus:border-lime-600 border-gray-300"},null,512),[[oe,a.data.allocations[0].work_location]])])]),t("div",jt,[Ut,j(h,null,{default:D(()=>[j(g(de),{modelValue:a.data.allocations[0].assignment_duration,"onUpdate:modelValue":o[5]||(o[5]=d=>a.data.allocations[0].assignment_duration=d),columns:2,color:"teal","is-range":""},{default:D(({inputValue:d,inputEvents:w})=>[t("div",Rt,[t("input",ye({type:"text",class:"py-3 block w-full focus:ring-lime-600 focus:border-lime-600 border-gray-300",id:"allocationDateRangeStart",name:"allocationDateRangeStart",value:d.start},_e(w.start,!0)),null,16,Mt),t("input",{type:"text",class:"py-3 px-4 block w-full pl-5 focus:ring-lime-600 focus:border-lime-600 border-gray-300",id:"allocationDateRangeEnd",name:"allocationDateRangeEnd",value:d.end,readonly:""},null,8,Ot)])]),_:1},8,["modelValue"])]),_:1})]),Bt,t("div",Nt,[t("div",qt,[j(g(Se),{modelValue:a.data.allocations[0].billable,"onUpdate:modelValue":o[6]||(o[6]=d=>a.data.allocations[0].billable=d),class:q([a.data.billable?"bg-primary-900":"bg-primary-700","relative inline-flex h-[38px] w-[74px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:D(()=>[Ft,t("span",{"aria-hidden":"true",class:q([a.data.allocations[0].billable?"translate-x-9":"translate-x-0","pointer-events-none inline-block h-[34px] w-[34px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])])])])])])],32)])])]))]))]),t("div",Lt,[Wt,a.isDeleteButtonVisible?(b(),$("span",zt,[t("button",{onClick:o[8]||(o[8]=d=>("useNuxtApp"in a?a.useNuxtApp:g(E))().$bus.$emit("evtDeleteEmployee",a.data)),type:"button",class:"py-2 px-4 border border-gray-300 text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:border-primary-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out"},"Delete")])):R("",!0),t("span",Gt,[t("button",{onClick:o[9]||(o[9]=(...d)=>a.upsertEmployeeAllocation&&a.upsertEmployeeAllocation(...d)),type:"submit",class:"zyn-button"},"Save")])])])])])])])):R("",!0)}}});export{na as default};
