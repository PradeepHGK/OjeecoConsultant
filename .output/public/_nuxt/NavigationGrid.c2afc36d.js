import{V as o,j as l,v as i,W as _,ae as g,M as b,c as y,b as s,o as w}from"./entry.5eee13ba.js";import{a as N,b as a}from"./mermaid.4b1cd600.js";import{f as $,j as C}from"./join.4243fb1a.js";import{t as d}from"./truncate.7e323d76.js";import{t as k}from"./toString.53aed50c.js";import"./_arrayEach.0e9334a0.js";import"./_baseEach.ed2de8af.js";import"./_stringToArray.5b71c590.js";import"./_baseProperty.3973c195.js";import"./toInteger.4d2e8b31.js";const A={class:"px-4 sm:px-4 lg:px-4"},D=s("div",{class:"sm:flex sm:items-center"},null,-1),E={class:"mt-2 flex flex-col"},M={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},S={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},P={__name:"NavigationGrid",async setup(j){let n,m;const c=o("grid");o("result_data");const r=l(!1),u=l("");i().$bus.$on("evtSearchNavigation",e=>{h(e)});const f=l(),{data:x}=([n,m]=_(()=>g("Navigations-list-"+Math.random,()=>$fetch("/api/nav",{initialCache:!1,method:"get"}),"$N4mVoY2pvf")),n=await n,m(),n);async function h(e){if(r.value=!0,e){const t=[];$(e,function(p,v){k(p)!=""&&t.push(v+"=eq."+p)}),u.value=C(t,"&")}try{let t=await g("Navigations-list-"+Math.random,()=>$fetch(`/api/nav?${u.value}`,{initialCache:!1,method:"get"}),"$mjSHfzQ5Em");o("grid").value.updateConfig({data:t.data._rawValue}).forceRender(),r.value=!1}catch(t){r.value=!1,i().$toast.show({type:"danger",message:t.message,timeout:6})}}return b(()=>{c.value=new N({columns:[{id:"id",name:"Id.",hidden:!0},{id:"nav_module_code",name:"Module",width:"100px"},{id:"name",name:"Title",width:"100px"},{name:"Parent Code",width:"75px",data:e=>a("span",{className:"truncate"},d(e.parent_code,{length:50}))},{name:"Child Code",width:"75px",data:e=>a("span",{className:"truncate"},d(e.code,{length:50}))},{name:"Link",width:"75px",data:e=>a("span",{className:"truncate"},d(e.href,{length:50}))},{name:"Action Button",data:e=>{let t=e.is_action_button?"text-green-700 bg-green-50":"";return a("span",{className:`inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium  ${t}`},e.is_action_button?"Yes":"")},sort:!1,width:"25px"},{name:"Status",data:e=>{let t=e.is_active?"text-blue-700 bg-blue-50":"text-gray-800 bg-gray-50";return a("span",{className:`inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium  ${t}`},e.is_active?"Active":"Disabled")},sort:!1,width:"25px"},{id:"btnDelete",name:"",formatter:(e,t)=>a("button",{className:"inline-flex items-center rounded-full border border-transparent bg-red-600 px-3 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",onClick:()=>i().$bus.$emit("evtDeleteNavigation",t)},"Delete"),sort:!1,width:"10px"},{id:"btnEdit",name:"",formatter:(e,t)=>a("button",{className:"inline-flex items-center rounded-full border border-transparent bg-lime-600 px-3 py-1.5 text-xs font-medium text-white shadow-sm hover:bg-lime-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",onClick:()=>i().$bus.$emit("evtUpsertNavigation",t)},"Edit"),sort:!1,width:"10px"}],sort:!0,pagination:{enabled:!0,limit:10,summary:!0},className:{td:"whitespace-nowrap px-2 py-2 text-sm text-gray-500",table:"min-w-full divide-y divide-gray-300",thead:"bg-gray-50",th:"whitespace-nowrap px-2 py-3.5 text-left text-sm font-semibold text-gray-900"},search:!0,fixedHeader:!0,data:x.value}),c.value.render(f.value)}),(e,t)=>(w(),y("div",A,[D,s("div",E,[s("div",M,[s("div",S,[s("div",{ref_key:"gridRef",ref:f},null,512)])])])]))}};export{P as default};
