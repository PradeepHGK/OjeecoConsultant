import{D as R}from"./Dropdownlist.1b365210.js";import{j as f,V as z,v as l,W as $,aM as g,d as s,c as y,b as e,i as v,e as h,x as A,Z as r,aL as d,s as m,l as w,ae as N,o as x,H as q}from"./entry.5eee13ba.js";import{r as P}from"./XMarkIcon.eb0e8bbc.js";import{a as k}from"./switch.ce1b5e48.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./dom.cb3029af.js";import"./label.0680d1f4.js";import"./description.3cfaa39b.js";import"./use-resolve-button-type.941463e9.js";const F={key:0,class:"fixed inset-0 overflow-hidden","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},E={class:"absolute inset-0 overflow-hidden"},H=e("div",{class:"absolute inset-0","aria-hidden":"true"},null,-1),L={class:"absolute inset-y-0 right-0 pl-10 max-w-full flex"},T={class:"w-screen max-w-md"},W={class:"h-full divide-y divide-gray-200 flex flex-col bg-white shadow-xl"},Z={class:"flex-1 h-0 overflow-y-auto"},O={class:"space-y-1 py-6 px-4 bg-primary-700 sm:px-6"},J={class:"flex items-center justify-between space-x-3"},K=e("h2",{class:"text-lg leading-7 font-medium text-primary-200"},"Navigation",-1),X={class:"h-7 flex items-center"},G=e("span",{class:"sr-only"},"Close panel",-1),Q=e("div",null,[e("p",{class:"text-sm leading-5 text-primary-300"},"Create|View|Manage application level nagations")],-1),Y={key:0,class:"flex-1 flex flex-col justify-between"},ee=q('<div class="space-y-6 pt-6 pb-5"><div class="flex justify-center"><span class="inline-flex"><button type="button" class="inline-flex items-center px-6 py-3 text-base font-medium text-gray-600"><svg class="-ml-1 mr-3 h-5 w-5 animate-spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" aria-hidden="true"><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Processing... </button></span></div></div>',1),se=[ee],te={key:1,class:"flex-1 flex flex-col justify-between"},oe={class:"px-4 divide-y divide-gray-200 sm:px-6"},ae={class:"space-y-6 pt-6 pb-5"},ie=["onSubmit"],ne={class:"sm:overflow-hidden"},le={class:"bg-white space-y-6"},re={class:"grid grid-cols-1 gap-y-3 gap-x-4 sm:grid-cols-6"},de={class:"sm:col-span-6"},ce={class:"sm:col-span-6"},ue={class:"sm:col-span-6"},me=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Code",-1),pe={class:"mt-1"},_e=["readonly"],fe={class:"sm:col-span-6"},ve=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Title",-1),be={class:"mt-1"},ge={class:"sm:col-span-6"},ye=e("label",{for:"sort_order",class:"block text-sm font-medium text-gray-700"},"Sort Order",-1),he={class:"mt-1"},xe={class:"sm:col-span-6"},we=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),ke=e("div",{class:"sm:col-span-3 mt-1"},[e("label",{for:"is_footer_description",class:"block text-sm font-medium text-gray-700"},"Is-footer description?")],-1),Ve={class:"sm:col-span-3"},Ce={class:"mt-1"},$e=e("span",{class:"sr-only"},"Is-footer Description?",-1),Ne={class:"sm:col-span-6"},Ue=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Link",-1),Se={class:"mt-1"},De={class:"sm:col-span-6"},Ie=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Icon",-1),je={class:"mt-1"},Be={class:"sm:col-span-6"},Me=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Click Event",-1),Re={class:"mt-1"},ze={class:"sm:col-span-6"},Ae=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Icon CSS Foreground",-1),qe={class:"mt-1"},Pe={class:"sm:col-span-6"},Fe=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Icon CSS Background",-1),Ee={class:"mt-1"},He={class:"sm:col-span-6"},Le=e("label",{for:"css_class",class:"block text-sm font-medium text-gray-700"},"CSS Class",-1),Te={class:"mt-1"},We=e("div",{class:"sm:col-span-3 mt-1"},[e("label",{for:"is_action_button",class:"block text-sm font-medium text-gray-700"},"Is-action button?")],-1),Ze={class:"sm:col-span-3"},Oe={class:"mt-1"},Je=e("span",{class:"sr-only"},"Is action button?",-1),Ke=e("div",{class:"sm:col-span-3 mt-1"},[e("label",{for:"is_active",class:"block text-sm font-medium text-gray-700"},"Is-active?")],-1),Xe={class:"sm:col-span-3"},Ge={class:"mt-1"},Qe=e("span",{class:"sr-only"},"Is-active?",-1),Ye={class:"w-full flex-shrink-0 px-4 py-4 space-x-4 flex justify-end"},es=e("span",{class:"inline-flex rounded-md shadow-sm"},[e("button",{type:"button",class:"py-2 px-4 border border-gray-300 text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out"},"Reset")],-1),ss={key:0,class:"inline-flex rounded-md shadow-sm"},ms={__name:"NavigationUpsert",async setup(ts){let c,b;const t=f({is_active:!0,is_action_button:!1,is_footer_description:!1}),u=f(!1),p=f(!1),U=f(!1);f(new Date);const V="/api/nav/";f(null),z("parent"),l().$bus.$on("evtUpsertNavigation",i=>{p.value=!p.value,i!==void 0?B(i._cells[0].data):t.value={is_active:!0,is_action_button:!1,is_footer_description:!1}}),l().$bus.$on("evtDeleteNavigation",i=>{M(i._cells[0].data)});const{data:S}=([c,b]=$(()=>N("navigations-list-"+Math.random,()=>$fetch("/api/nav?parent_code=is.null",{initialCache:!1,method:"get"}),"$dev6jOUcpC")),c=await c,b(),c),{data:D}=([c,b]=$(()=>N("navigation-modules-list-"+Math.random,()=>$fetch("/api/properties?parent_code=eq.navigation-by-modules",{initialCache:!1,method:"get"}),"$J6W3hB4Wz6")),c=await c,b(),c);function I(i){t.value.parent_code=i.target.value}function j(i){t.value.nav_module_code=i.target.value}async function B(i){u.value=!0,g(V+i,{method:"get",initialCache:!1,onResponse({request:o,response:n,options:a}){t.value=n._data[0],u.value=!1}},"$Z3PP3dIvzl")}async function C(i){try{u.value=!0,t.value.id?await g("/api/nav/"+t.value.id,{method:"put",body:_.omit(t.value,"id"),initialCache:!1,onResponse({request:o,response:n,options:a}){n._data&&(n._data.code?l().$toast.show({type:"danger",message:"Failure during update",timeout:6}):l().$toast.show({type:"success",message:"Record updated successfully",timeout:6}))}},"$EHdX84ieKR"):await g("/api/nav/create",{method:"post",body:t.value,initialCache:!1,onResponse({request:o,response:n,options:a}){n._data&&(n._data.code?l().$toast.show({type:"danger",message:"Failure during insert",timeout:6}):l().$toast.show({type:"success",message:"Record added successfully",timeout:6}))}},"$LNy31jV6C9"),u.value=!1,l().$bus.$emit("evtSearchNavigation"),t.value={is_active:!0,is_action_button:!1,is_footer_description:!1},p.value=!p.value}catch(o){console.log(o),u.value=!1}finally{}}async function M(i){try{await g(V+i,{method:"delete",body:{},initialCache:!1,onResponse({request:o,response:n,options:a}){n.status==204?(l().$toast.show({type:"success",message:"Delete was successful",timeout:6}),l().$bus.$emit("evtSearchNavigation"),t.value={is_active:!0,is_action_button:!1,is_footer_description:!1}):l().$toast.show({type:"danger",message:"The delete failed...",timeout:6})}},"$cZ66enBdUn")}catch{}finally{}}return(i,o)=>{const n=R;return s(p)?(x(),y("section",F,[e("div",E,[H,e("div",L,[e("div",T,[e("div",W,[e("div",Z,[e("header",O,[e("div",J,[K,e("div",X,[e("button",{onClick:o[0]||(o[0]=a=>p.value=!1),type:"button",class:"rounded-md bg-primary-700 text-primary-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white"},[G,v(s(P),{class:"h-6 w-6","aria-hidden":"true"})])])]),Q]),s(u)?(x(),y("div",Y,se)):h("",!0),s(u)?h("",!0):(x(),y("div",te,[e("div",oe,[e("div",ae,[e("form",{name:"frmNavigation",id:"frmNavigation",class:"space-y-8 divide-y divide-gray-200",onSubmit:A(C,["prevent"])},[e("div",ne,[e("div",le,[e("div",re,[e("div",de,[v(n,{data:{data:s(D)},onChange:j,show_label:"true",modelValue:s(t).nav_module_code,"onUpdate:modelValue":o[1]||(o[1]=a=>s(t).nav_module_code=a),name:"nav_module",label:"Module",selected_value:s(t).nav_module_code},null,8,["data","modelValue","selected_value"])]),e("div",ce,[v(n,{data:{data:s(S)},onChange:I,show_label:"true",modelValue:s(t).parent_code,"onUpdate:modelValue":o[2]||(o[2]=a=>s(t).parent_code=a),name:"parent_code",label:"Parent",selected_value:s(t).parent_code},null,8,["data","modelValue","selected_value"])]),e("div",ue,[me,e("div",pe,[r(e("input",{readonly:s(t).id,type:"text",id:"code",name:"code","onUpdate:modelValue":o[3]||(o[3]=a=>s(t).code=a),class:m(["block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300",[s(t).id?"bg-gray-100":""]])},null,10,_e),[[d,s(t).code]])])]),e("div",fe,[ve,e("div",be,[r(e("input",{type:"text",id:"name",name:"name","onUpdate:modelValue":o[4]||(o[4]=a=>s(t).name=a),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[d,s(t).name]])])]),e("div",ge,[ye,e("div",he,[r(e("input",{type:"text",id:"sort_order",name:"sort_order","onUpdate:modelValue":o[5]||(o[5]=a=>s(t).sort_order=a),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[d,s(t).sort_order]])])]),e("div",xe,[we,r(e("textarea",{"onUpdate:modelValue":o[6]||(o[6]=a=>s(t).description=a),id:"description",name:"description",rows:"3",class:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300"},null,512),[[d,s(t).description]])]),ke,e("div",Ve,[e("div",Ce,[v(s(k),{modelValue:s(t).is_footer_description,"onUpdate:modelValue":o[7]||(o[7]=a=>s(t).is_footer_description=a),class:m([s(t).is_footer_description?"bg-primary-800":"bg-primary-500","relative inline-flex h-[34px] w-[66px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:w(()=>[$e,e("span",{"aria-hidden":"true",class:m([s(t).is_footer_description?"translate-x-9":"translate-x-0","pointer-events-none inline-block h-[30px] w-[30px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])])]),e("div",Ne,[Ue,e("div",Se,[r(e("input",{type:"text",id:"href",name:"href","onUpdate:modelValue":o[8]||(o[8]=a=>s(t).href=a),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[d,s(t).href]])])]),e("div",De,[Ie,e("div",je,[r(e("input",{type:"text",id:"icon",name:"icon","onUpdate:modelValue":o[9]||(o[9]=a=>s(t).icon=a),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[d,s(t).icon]])])]),e("div",Be,[Me,e("div",Re,[r(e("input",{type:"text",id:"click_event",name:"click_event","onUpdate:modelValue":o[10]||(o[10]=a=>s(t).click_event=a),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[d,s(t).click_event]])])]),e("div",ze,[Ae,e("div",qe,[r(e("input",{type:"text",id:"iconforeground",name:"iconforeground","onUpdate:modelValue":o[11]||(o[11]=a=>s(t).iconforeground=a),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[d,s(t).iconforeground]])])]),e("div",Pe,[Fe,e("div",Ee,[r(e("input",{type:"text",id:"iconbackground",name:"iconbackground","onUpdate:modelValue":o[12]||(o[12]=a=>s(t).iconbackground=a),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[d,s(t).iconbackground]])])]),e("div",He,[Le,e("div",Te,[r(e("input",{type:"text",id:"css_class",name:"css_class","onUpdate:modelValue":o[13]||(o[13]=a=>s(t).css_class=a),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[d,s(t).css_class]])])]),We,e("div",Ze,[e("div",Oe,[v(s(k),{modelValue:s(t).is_action_button,"onUpdate:modelValue":o[14]||(o[14]=a=>s(t).is_action_button=a),class:m([s(t).is_action_button?"bg-primary-800":"bg-primary-500","relative inline-flex h-[34px] w-[66px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:w(()=>[Je,e("span",{"aria-hidden":"true",class:m([s(t).is_action_button?"translate-x-9":"translate-x-0","pointer-events-none inline-block h-[30px] w-[30px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])])]),Ke,e("div",Xe,[e("div",Ge,[v(s(k),{modelValue:s(t).is_active,"onUpdate:modelValue":o[15]||(o[15]=a=>s(t).is_active=a),class:m([s(t).is_active?"bg-primary-800":"bg-primary-500","relative inline-flex h-[34px] w-[66px] shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:w(()=>[Qe,e("span",{"aria-hidden":"true",class:m([s(t).is_active?"translate-x-9":"translate-x-0","pointer-events-none inline-block h-[30px] w-[30px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])])])])])])],40,ie)])])]))]),e("div",Ye,[es,s(U)?(x(),y("span",ss,[e("button",{onClick:o[16]||(o[16]=a=>("useNuxtApp"in i?i.useNuxtApp:s(l))().$bus.$emit("evtDeleteNavigation",s(t))),type:"button",class:"py-2 px-4 border border-gray-300 text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:border-primary-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out"},"Delete")])):h("",!0),e("span",{class:"inline-flex rounded-md shadow-sm"},[e("button",{onClick:C,type:"submit",class:"zyn-button"},"Save")])])])])])])])):h("",!0)}}};export{ms as default};
