import{D as h}from"./Dropdownlist.1b365210.js";import{aM as d,v as a,c as n,b as e,e as r,x as f,Z as m,aL as p,i as _,o as c,H as b}from"./entry.5eee13ba.js";import{_ as v}from"./_plugin-vue_export-helper.c27b6911.js";const x={components:{},data(){return{isUpsertRoleVisible:!1,data:{},api:"",date:new Date,progress:!1}},methods:{async upsertRole(t){try{if(this.data._id===void 0){const{data:s}=await d("/api/roles/Role",{method:"post",body:this.data},"$vrSQ41dRT9")}else{const{data:s}=await d("/api/roles/Role/"+this.data._id,{method:"put",body:this.data},"$jynPHO8xfR")}this.isUpsertRoleVisible=!this.isUpsertRoleVisible,a().$bus.$emit("evtRefreshRoleDatatable")}catch(s){console.log(s)}finally{}},async deleteRole(){try{this.data.is_enabled=!1;const{data:t}=await d("/api/roles/Role/"+this.data._id,{method:"delete"},"$OU17G5nkKY");a().$bus.$emit("evtRefreshRoleDatatable")}catch{}finally{}},async bindRole(){},async closeRolePanel(){this.data={},this.isUpsertRoleVisible=!this.isUpsertRoleVisible},handleSelectedInRoleMarkAsDelete(t){alert(t),this.data.mark_as_delete=t},handleSelectedInRoleStatus(t){this.data.is_enabled=t}},computed:{},mounted(){},created(){a().$bus.$on("evtUpsertRole",t=>{t!==void 0?this.data=t:this.data={},this.isUpsertRoleVisible=!this.isUpsertRoleVisible}),a().$bus.$on("evtDeleteRole",t=>{t!==void 0&&(this.data=t,this.deleteRole())})},beforeDestroy(){a().$bus.$off("evtUpsertRole"),a().$bus.$off("evtDeleteRole")}},y={key:0,class:"fixed inset-0 overflow-hidden","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},g={class:"absolute inset-0 overflow-hidden"},R=e("div",{class:"absolute inset-0","aria-hidden":"true"},null,-1),w={class:"absolute inset-y-0 right-0 pl-10 max-w-full flex"},k={class:"w-screen max-w-md"},V={class:"h-full divide-y divide-gray-200 flex flex-col bg-white shadow-xl"},U={class:"flex-1 h-0 overflow-y-auto"},S={class:"space-y-1 py-6 px-4 bg-gray-200 sm:px-6"},D={class:"flex items-center justify-between space-x-3"},C=e("h2",{class:"text-lg leading-7 font-medium text-gray-700"},"Role",-1),M={class:"h-7 flex items-center"},A=e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),j=[A],N=e("div",null,[e("p",{class:"text-sm leading-5 text-gray-500"},"Create or update Role")],-1),B={key:0,class:"flex-1 flex flex-col justify-between"},I=b('<div class="space-y-6 pt-6 pb-5"><div class="flex justify-center"><span class="inline-flex"><button type="button" class="inline-flex items-center px-6 py-3 text-base font-medium text-gray-600"><svg class="-ml-1 mr-3 h-5 w-5 animate-spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" aria-hidden="true"><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Processing... </button></span></div></div>',1),P=[I],z={key:1,class:"flex-1 flex flex-col justify-between"},H={class:"px-4 divide-y divide-gray-200 sm:px-6"},L={class:"space-y-6 pt-6 pb-5"},O={class:"sm:overflow-hidden"},T={class:"bg-white space-y-6"},Y={class:"grid grid-cols-1 gap-y-3 gap-x-4 sm:grid-cols-6"},$={class:"sm:col-span-6"},E=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name",-1),F={class:"mt-1"},G={class:"sm:col-span-6"},K=e("label",{for:"code",class:"block text-sm font-medium text-gray-700"},"Code",-1),Q={class:"mt-1"},Z=e("div",{class:"sm:col-span-6"},[e("h2",{class:"text-lg font-medium text-gray-900"},"Administration ")],-1),q={class:"sm:col-span-6"},J={class:"sm:col-span-6"},W={class:"w-full flex-shrink-0 px-4 py-4 space-x-4 flex justify-end"},X=e("span",{class:"inline-flex rounded-md shadow-sm"},[e("button",{type:"button",class:"py-2 px-4 border border-gray-300 text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out"},"Reset")],-1),ee={class:"inline-flex rounded-md shadow-sm"};function se(t,s,te,le,l,i){const u=h;return l.isUpsertRoleVisible?(c(),n("section",y,[e("div",g,[R,e("div",w,[e("div",k,[e("div",V,[e("div",U,[e("header",S,[e("div",D,[C,e("div",M,[e("button",{onClick:s[0]||(s[0]=o=>i.closeRolePanel()),"aria-label":"Close panel",class:"text-gray-600 hover:text-white transition ease-in-out duration-150"},j)])]),N]),l.progress?(c(),n("div",B,P)):r("",!0),l.progress?r("",!0):(c(),n("div",z,[e("div",H,[e("div",L,[e("form",{name:"frmRole",id:"frmRole",class:"space-y-8 divide-y divide-gray-200",onSubmit:s[5]||(s[5]=f((...o)=>t.SaveAndUpdate&&t.SaveAndUpdate(...o),["prevent"]))},[e("div",O,[e("div",T,[e("div",Y,[e("div",$,[E,e("div",F,[m(e("input",{type:"text",id:"name",name:"name","onUpdate:modelValue":s[1]||(s[1]=o=>l.data.name=o),class:"py-3 px-4 block w-full pl-5 focus:ring-lime-600 focus:border-lime-600 border-gray-300"},null,512),[[p,l.data.name]])])]),e("div",G,[K,e("div",Q,[m(e("input",{type:"text",id:"code",name:"code","onUpdate:modelValue":s[2]||(s[2]=o=>l.data.code=o),class:"py-3 px-4 block w-full pl-5 focus:ring-lime-600 focus:border-lime-600 border-gray-300"},null,512),[[p,l.data.code]])])]),Z,e("div",q,[_(u,{modelValue:l.data.is_enabled,"onUpdate:modelValue":s[3]||(s[3]=o=>l.data.is_enabled=o),onSelected_item:i.handleSelectedInRoleStatus,name:"is_enabled",label:"Status",data:{data:[{code:"true",name:"Active"},{code:"false",name:"In-active"}]},selected_value:l.data.is_enabled},null,8,["modelValue","onSelected_item","selected_value"])]),e("div",J,[_(u,{modelValue:l.data.mark_as_delete,"onUpdate:modelValue":s[4]||(s[4]=o=>l.data.mark_as_delete=o),onSelected_item:i.handleSelectedInRoleMarkAsDelete,name:"mark_as_delete",label:"Mark as delete?",data:{data:[{code:"true",name:"Yes"},{code:"false",name:"No"}]},selected_value:l.data.mark_as_delete},null,8,["modelValue","onSelected_item","selected_value"])])])])])],32)])])]))]),e("div",W,[X,e("span",ee,[e("button",{onClick:s[6]||(s[6]=(...o)=>i.upsertRole&&i.upsertRole(...o)),type:"submit",class:"zyn-button"}," Save ")])])])])])])])):r("",!0)}const de=v(x,[["render",se]]);export{de as default};
