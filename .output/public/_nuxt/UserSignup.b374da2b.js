import{j as r,v as n,d as t,c,b as e,e as u,x as v,Z as f,aL as _,aM as x,o as p,H as y}from"./entry.5eee13ba.js";const g={key:0,class:"fixed inset-0 overflow-hidden","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},b={class:"absolute inset-0 overflow-hidden"},w=e("div",{class:"absolute inset-0","aria-hidden":"true"},null,-1),k={class:"absolute inset-y-0 right-0 pl-10 max-w-full flex"},S={class:"w-screen max-w-md"},U={class:"h-full divide-y divide-gray-200 flex flex-col bg-white shadow-xl"},C={class:"flex-1 h-0 overflow-y-auto"},$={class:"space-y-1 py-6 px-4 bg-primary-700 sm:px-6"},j={class:"flex items-center justify-between space-x-3"},V=e("h2",{class:"text-lg leading-7 font-medium text-white"},"User",-1),M={class:"h-7 flex items-center"},P=e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),B=[P],N=e("div",null,[e("p",{class:"text-sm leading-5 text-primary-300"},"Create new user account")],-1),A={key:0,class:"flex-1 flex flex-col justify-between"},z=y('<div class="space-y-6 pt-6 pb-5"><div class="flex justify-center"><span class="inline-flex"><button type="button" class="inline-flex items-center px-6 py-3 text-base font-medium text-gray-600"><svg class="-ml-1 mr-3 h-5 w-5 animate-spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" aria-hidden="true"><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Processing... </button></span></div></div>',1),E=[z],F={key:1,class:"flex-1 flex flex-col justify-between"},H={class:"px-4 divide-y divide-gray-200 sm:px-6"},L={class:"space-y-6 pt-6 pb-5"},R=["onSubmit"],q={class:"sm:overflow-hidden"},D={class:"bg-white space-y-6"},T={class:"grid grid-cols-1 gap-y-3 gap-x-4 sm:grid-cols-6"},W={class:"sm:col-span-6"},X=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1),Z={class:"mt-1"},G={class:"sm:col-span-6"},I=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1),J={class:"mt-1"},K=e("span",{class:"inline-flex rounded-md shadow-sm"},[e("button",{type:"button",class:"py-2 px-4 border border-gray-300 text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out"},"Reset")],-1),Y={__name:"UserSignup",setup(O){const o=r({}),i=r(!1),a=r(!1);r(!1);const h="/api/users/";n().$bus.$on("evtUserSignup",d=>{a.value=!a.value});async function m(){try{i.value=!0,await x(h+"signup",{method:"post",body:o.value,initialCache:!1,onResponse({request:d,response:s,options:l}){s._data&&(s._data.user?(n().$toast.show({type:"success",message:"New user sign up was successful",timeout:6}),n().$bus.$emit("evtSearchProfiles"),a.value=!a.value,reloadProfilesStore(),o={}):s._data.data?n().$toast.show({type:"danger",message:s._data.data.msg,timeout:6}):n().$toast.show({type:"danger",message:"Failure during new user sign up",timeout:6}))}},"$UrXWdrtAAs"),i.value=!1}catch(d){console.log(d),i.value=!1}finally{}}return(d,s)=>t(a)?(p(),c("section",g,[e("div",b,[w,e("div",k,[e("div",S,[e("div",U,[e("div",C,[e("header",$,[e("div",j,[V,e("div",M,[e("button",{onClick:s[0]||(s[0]=l=>a.value=!1),"aria-label":"Close panel",class:"rounded-md bg-primary-700 text-primary-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white"},B)])]),N]),t(i)?(p(),c("div",A,E)):u("",!0),t(i)?u("",!0):(p(),c("div",F,[e("div",H,[e("div",L,[e("form",{name:"frmProfiles",id:"frmProfiles",class:"space-y-8 divide-y divide-gray-200",onSubmit:v(m,["prevent"])},[e("div",q,[e("div",D,[e("div",T,[e("div",W,[X,e("div",Z,[f(e("input",{type:"text",id:"email",name:"email","onUpdate:modelValue":s[1]||(s[1]=l=>t(o).email=l),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[_,t(o).email]])])]),e("div",G,[I,e("div",J,[f(e("input",{type:"text",id:"password",name:"password","onUpdate:modelValue":s[2]||(s[2]=l=>t(o).password=l),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[_,t(o).password]])])])])])])],40,R)])])]))]),e("div",{class:"w-full flex-shrink-0 px-4 py-4 space-x-4 flex justify-end"},[K,e("span",{class:"inline-flex rounded-md shadow-sm"},[e("button",{onClick:m,type:"submit",class:"zyn-button"},"Sign Up")])])])])])])])):u("",!0)}};export{Y as default};
