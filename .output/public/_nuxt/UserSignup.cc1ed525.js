import y from"./Icon.84acb30e.js";import{j as r,v as l,d as a,c,b as s,i as x,e as u,x as g,Z as _,aL as h,aM as b,o as p,H as w}from"./entry.5eee13ba.js";import"./config.a5798137.js";import"./Icon.vue.2d0699de.js";import"./_plugin-vue_export-helper.c27b6911.js";const k={key:0,class:"fixed inset-0 overflow-hidden","aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"},U={class:"absolute inset-0 overflow-hidden"},S=s("div",{class:"absolute inset-0","aria-hidden":"true"},null,-1),C={class:"absolute inset-y-0 right-0 pl-10 max-w-full flex"},$={class:"w-screen max-w-md"},V={class:"h-full divide-y divide-gray-200 flex flex-col bg-white shadow-xl"},j={class:"flex-1 h-0 overflow-y-auto"},N={class:"space-y-1 py-6 px-4 bg-primary-700 sm:px-6"},B={class:"flex items-center justify-between space-x-3"},M=s("h2",{class:"text-lg leading-7 font-medium text-white"},"User",-1),z={class:"h-7 flex items-center"},A=s("span",{class:"sr-only"},"Close panel",-1),E=s("div",null,[s("p",{class:"text-sm leading-5 text-primary-300"},"Create new user account")],-1),F={key:0,class:"flex-1 flex flex-col justify-between"},H=w('<div class="space-y-6 pt-6 pb-5"><div class="flex justify-center"><span class="inline-flex"><button type="button" class="inline-flex items-center px-6 py-3 text-base font-medium text-gray-600"><svg class="-ml-1 mr-3 h-5 w-5 animate-spin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" aria-hidden="true"><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Processing... </button></span></div></div>',1),L=[H],P={key:1,class:"flex-1 flex flex-col justify-between"},R={class:"px-4 divide-y divide-gray-200 sm:px-6"},q={class:"space-y-6 pt-6 pb-5"},D=["onSubmit"],G={class:"sm:overflow-hidden"},I={class:"bg-white space-y-6"},J={class:"grid grid-cols-1 gap-y-3 gap-x-4 sm:grid-cols-6"},O={class:"sm:col-span-6"},T=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1),Z={class:"mt-1"},K={class:"sm:col-span-6"},Q=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1),W={class:"mt-1"},X=s("span",{class:"inline-flex rounded-md shadow-sm"},[s("button",{type:"button",class:"py-2 px-4 border border-gray-300 text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-gray-800 transition duration-150 ease-in-out"},"Reset")],-1),is={__name:"UserSignup",setup(Y){const t=r({}),i=r(!1),o=r(!1);r(!1);const v="/api/users/";l().$bus.$on("evtUserSignup",n=>{o.value=!o.value,t.value={}});async function m(){try{i.value=!0,await b(v+"signup",{method:"post",body:t.value,initialCache:!1,onResponse({request:n,response:e,options:f}){console.log("response._data="+JSON.stringify(e._data)),e._data&&(e._data.status==500?l().$toast.show({type:"danger",message:e._data.message,timeout:6}):e._data.status==200?(l().$toast.show({type:"success",message:e._data.message,timeout:6}),l().$bus.$emit("evtSearchUsers"),o.value=!o.value,t.value={}):l().$toast.show({type:"danger",message:"Failure during new user sign up",timeout:6}))}},"$vc6G3woxcL"),i.value=!1}catch(n){console.log(n),i.value=!1}finally{}}return(n,e)=>{const f=y;return a(o)?(p(),c("section",k,[s("div",U,[S,s("div",C,[s("div",$,[s("div",V,[s("div",j,[s("header",N,[s("div",B,[M,s("div",z,[s("button",{onClick:e[0]||(e[0]=d=>o.value=!1),"aria-label":"Close panel",class:"rounded-md bg-primary-700 text-primary-200 hover:text-white focus:outline-none focus:ring-2 focus:ring-white"},[A,x(f,{name:"material-symbols:close",class:"h-6 w-6","aria-hidden":"true"})])])]),E]),a(i)?(p(),c("div",F,L)):u("",!0),a(i)?u("",!0):(p(),c("div",P,[s("div",R,[s("div",q,[s("form",{name:"frmUsers",id:"frmUsers",class:"space-y-8 divide-y divide-gray-200",onSubmit:g(m,["prevent"])},[s("div",G,[s("div",I,[s("div",J,[s("div",O,[T,s("div",Z,[_(s("input",{type:"text",id:"email",name:"email","onUpdate:modelValue":e[1]||(e[1]=d=>a(t).email=d),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[h,a(t).email]])])]),s("div",K,[Q,s("div",W,[_(s("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":e[2]||(e[2]=d=>a(t).password=d),class:"block w-full pl-5 focus:ring-primary-600 focus:border-primary-600 border-gray-300"},null,512),[[h,a(t).password]])])])])])])],40,D)])])]))]),s("div",{class:"w-full flex-shrink-0 px-4 py-4 space-x-4 flex justify-end"},[X,s("span",{class:"inline-flex rounded-md shadow-sm"},[s("button",{onClick:m,type:"submit",class:"zyn-button"},"Sign Up")])])])])])])])):u("",!0)}}};export{is as default};
